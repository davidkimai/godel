# Dash Configuration - OpenClaw Gateway Integration
# Generated: 2026-02-02
# Reference: https://docs.openclaw.ai/gateway/configuration

# =============================================================================
# OpenClaw Gateway Configuration
# =============================================================================

# Gateway WebSocket URL (default: ws://127.0.0.1:18789)
OPENCLAW_GATEWAY_URL=ws://127.0.0.1:18789

# Authentication token for OpenClaw Gateway
# Obtain this from your OpenClaw configuration or via `openclaw config get`
OPENCLAW_GATEWAY_TOKEN=your_openclaw_gateway_token_here

# Session identifier (optional, auto-generated if not set)
# OPENCLAW_SESSION=

# =============================================================================
# Dash API Configuration
# =============================================================================

# Internal Dash API for self-improvement orchestration
DASH_API_URL=http://localhost:7373
DASH_API_KEY=dash-api-key

# =============================================================================
# Database Configuration - PostgreSQL
# =============================================================================

POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=dash
POSTGRES_USER=dash
POSTGRES_PASSWORD=dash
POSTGRES_SSL=false

# Connection Pool Settings
POSTGRES_MIN_POOL_SIZE=2
POSTGRES_MAX_POOL_SIZE=20
POSTGRES_CONNECTION_TIMEOUT=5000
POSTGRES_IDLE_TIMEOUT=30000

# Retry Settings
POSTGRES_RETRY_ATTEMPTS=3
POSTGRES_RETRY_DELAY=1000

# =============================================================================
# Redis Configuration (for Event Bus)
# =============================================================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# =============================================================================
# SQLite Database (Legacy - for backward compatibility)
# =============================================================================

DASH_DB_PATH=./dash.db

# =============================================================================
# Security & Permissions
# =============================================================================

# OpenClaw mode: 'restricted' | 'full'
# - restricted: Limited tools, sandboxed execution
# - full: All tools available
OPENCLAW_MODE=restricted

# Sandbox mode for agent execution: 'none' | 'non-main' | 'docker'
OPENCLAW_SANDBOX_MODE=non-main

# =============================================================================
# Budget & Resource Limits
# =============================================================================

# Default budget per agent (USD)
DEFAULT_AGENT_BUDGET=1.00

# Maximum budget for self-improvement (USD)
SELF_IMPROVEMENT_MAX_BUDGET=10.00

# Maximum tokens per agent
MAX_TOKENS_PER_AGENT=100000

# =============================================================================
# Channel Configuration (for multi-channel routing)
# =============================================================================

# Telegram Bot Token (if using Telegram channel)
# TELEGRAM_BOT_TOKEN=your_telegram_bot_token

# Discord Bot Token (if using Discord channel)
# DISCORD_BOT_TOKEN=your_discord_bot_token

# Slack Tokens (if using Slack channel)
# SLACK_BOT_TOKEN=xoxb-your-slack-bot-token
# SLACK_APP_TOKEN=xapp-your-slack-app-token

# =============================================================================
# Development & Testing
# =============================================================================

# Enable mock mode for testing (no real gateway required)
# MOCK_OPENCLAW=true

# Debug logging level: 'debug' | 'info' | 'warn' | 'error'
LOG_LEVEL=info

# Enable verbose OpenClaw logging
VERBOSE_OPENCLAW=false

# =============================================================================
# Logging Configuration
# =============================================================================

# Service name for log entries
DASH_SERVICE_NAME=dash

# Log level override (same as LOG_LEVEL)
DASH_LOG_LEVEL=info

# Loki URL for log queries
LOKI_URL=http://localhost:3100

# Grafana URL for dashboards
GRAFANA_URL=http://localhost:3000

# Log file directory (ensure this exists)
LOG_DIR=./logs
