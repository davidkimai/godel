spec:
  id: SPEC-STARTUP-001
  name: Startup Files System
  version: 1.0.0
  status: active

description: |
  Startup file configuration and initialization system for Dash v2.0.
  Manages package.json scripts, config files, environment setup,
  and initialization sequences for autonomous operation.

requirements:
  - id: REQ-001
    description: package.json has all required scripts
    priority: P0
    test: cat package.json | jq '.scripts | keys' | grep -E "build|test|start|dev" | wc -l | test ">= 4"

  - id: REQ-002
    description: Build script compiles successfully
    priority: P0
    test: npm run build 2>&1 | grep "error TS" | wc -l | test "== 0"

  - id: REQ-003
    description: Test script runs successfully
    priority: P1
    test: npm test 2>&1 | grep -E "passed|passing" | wc -l | test "> 0"

  - id: REQ-004
    description: Environment variables configured correctly
    priority: P1
    test: cat .env.example | wc -l | test "> 0" && grep -E "API_KEY\|TOKEN\|SECRET" .env.example | wc -l | test "> 0"

  - id: REQ-005
    description: TypeScript configuration valid
    priority: P0
    test: cat tsconfig.json | jq '.compilerOptions' | grep "strict\|target" | wc -l | test ">= 2"

  - id: REQ-006
    description: Git hooks configured (husky)
    priority: P2
    test: cat .husky/pre-commit 2>/dev/null | grep "npm run" | wc -l | test "> 0"

  - id: REQ-007
    description: README has quick start guide
    priority: P1
    test: cat README.md | grep -E "npm install|npm run|quick start" | wc -l | test "> 0"

  - id: REQ-008
    description: Startup script validates system health
    priority: P1
    test: scripts/health-check.js --startup | grep "healthy\|ready" | test "not null"

implementation:
  files:
    - package.json
    - tsconfig.json
    - .env.example
    - .husky/*
    - scripts/health-check.js
    - scripts/start-autonomous.sh
    - README.md

prompt_template: |
  You are implementing the Startup Files System for Dash v2.0.

  This system manages all configuration and initialization files:

  1. package.json - NPM scripts and dependencies
  2. tsconfig.json - TypeScript configuration
  3. .env.example - Environment variable template
  4. .husky/* - Git hooks
  5. scripts/health-check.js - Health validation
  6. scripts/start-autonomous.sh - Startup script
  7. README.md - Quick start guide

  Requirements:
  - [P0] package.json has: build, test, start, dev scripts
  - [P0] Build passes with 0 TypeScript errors
  - [P1] Tests run successfully
  - [P1] Environment variables documented
  - [P0] TypeScript strict mode enabled
  - [P1] README has quick start
  - [P1] Startup script validates health

  Implementation:
  - Ensure all scripts work correctly
  - Configure TypeScript for production
  - Create .env.example with all vars
  - Set up husky pre-commit hooks
  - Write comprehensive README
  - Create health-check startup script

  Success Criteria:
  - [ ] npm install works
  - [ ] npm run build passes (0 errors)
  - [ ] npm test runs (tests pass)
  - [ ] .env.example complete
  - [ ] tsconfig.json valid
  - [ ] README quick start works
  - [ ] Health check passes

validation:
  command: npm install && npm run build && npm test -- --passWithNoTests 2>&1 | tail -5
  coverage_threshold: 95

metadata:
  created: 2026-02-02
  author: Overnight Executive
  tags: [startup, configuration, initialization, package.json]
  related:
    - specs/active/agent-md.yaml
    - scripts/health-check.js
    - package.json
