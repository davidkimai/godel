# Godel Configuration - Development Environment
# This file contains development-specific overrides

env: development

server:
  port: 7373
  host: localhost
  cors:
    origins:
      - http://localhost:3000
      - http://localhost:5173
    credentials: true
  rateLimit: 1000  # Higher limit for development
  timeoutMs: 60000

database:
  url: postgresql://godel:godel@localhost:5432/godel
  poolSize: 5
  minPoolSize: 1
  maxPoolSize: 10
  ssl: false
  connectionTimeoutMs: 5000
  idleTimeoutMs: 30000
  acquireTimeoutMs: 5000
  retryAttempts: 3
  retryDelayMs: 1000

redis:
  url: redis://localhost:6379/0
  db: 0
  connectTimeoutMs: 10000
  commandTimeoutMs: 5000
  maxRetriesPerRequest: 3
  enableOfflineQueue: true

auth:
  apiKeys:
    - dash_default_837e00f4a7b9c1d2e3f4a5b6c7d8e9f0a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6
  jwtSecret: dev-secret-change-in-production
  tokenExpirySeconds: 86400  # 24 hours for dev
  refreshTokenExpirySeconds: 604800  # 7 days
  enableApiKeyAuth: true
  enableJwtAuth: false

logging:
  level: debug
  format: pretty
  destination: stdout
  serviceName: godel-dev
  includeTimestamp: true
  includeSourceLocation: true

metrics:
  enabled: true
  port: 9090
  host: localhost
  path: /metrics
  enableDefaultMetrics: true
  prefix: godel_
  collectIntervalMs: 5000

budget:
  defaultLimit: 5.0
  currency: USD
  warningThreshold: 0.8
  criticalThreshold: 0.95
  selfImprovementMaxBudget: 20.0
  maxTokensPerAgent: 200000

openclaw:
  gatewayUrl: ws://127.0.0.1:18789
  # gatewayUrls: ["ws://127.0.0.1:18789", "ws://127.0.0.1:18790"]
  # gatewayToken: ${VAULT:secret/godel/openclaw#token}
  mode: restricted
  sandboxMode: non-main
  maxConcurrentSessions: 50
  perGatewayMaxConcurrentSessions: 25
  autoStartGateway: true
  # gatewayStartCommand: openclaws gateway start
  gatewayStartupTimeoutMs: 30000
  gatewayStartupProbeIntervalMs: 1000
  mockMode: false
  verbose: true

eventBus:
  type: redis
  streamKey: godel:events
  consumerGroup: godel:consumers
  compressionThreshold: 1024
  maxStreamLength: 100000
  maxQueuedEvents: 10000
  retry:
    maxRetries: 3
    retryDelayMs: 1000
    retryDelayMultiplier: 2

# Feature flags
features:
  gitops: true
  autoScaling: false
  selfImprovement: true
  metrics: true
  tracing: true
  recovery: true
  reasoning: true
